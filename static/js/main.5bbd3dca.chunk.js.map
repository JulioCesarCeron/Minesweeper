{"version":3,"sources":["components/Item.js","models/Cell.ts","util/cosntants.js","models/Board.ts","App.js","index.js","assets/bomb-explosion.svg"],"names":["Item","onTouchField","indexLine","indexColumn","item","bombImg","className","src","bomb","height","width","alt","isBomb","mine","isClear","status","onClick","proximityMines","active","Cell","row","column","PEERS","Board","size","mines","cells","remainingCells","mineCount","y","this","x","i","getRandomCell","adjacentMines","peer","Math","floor","random","length","App","useState","blow","boardField","setBoardField","checkCell","handleBoardField","handlerCells","cell","showAllBombs","touchField","checkValue","alert","style","marginTop","map","line","key","id","generate","ReactDOM","render","document","getElementById","module","exports"],"mappings":"yQAkCeA,EA9BF,SAAC,GAKP,IAJNC,EAIK,EAJLA,aACAC,EAGK,EAHLA,UACAC,EAEK,EAFLA,YACAC,EACK,EADLA,KAEOC,EAAU,yBAAKC,UAAU,MAAMC,IAAKC,IAAMC,OAAO,OAAOC,MAAM,OAAOC,IAAI,SAC1EC,EAASR,EAAKS,KACdC,EAA0B,UAAhBV,EAAKW,OAEpB,OACE,yBACDT,UAAS,eAAUQ,EAAU,aAAe,eACzCE,QAAS,kBAAMf,EAAaC,EAAWC,KAGzCW,GACA,oCACEV,EAAKS,KACLR,EAEwB,IAAxBD,EAAKa,eAAuB,GAAKb,EAAKa,gBAIrB,IAAhBb,EAAKc,SAAiBN,EAASP,EAAUD,EAAKI,Q,cC7BxCW,EAKZ,WAAmBC,EAAoBC,GAAgB,yBAApCD,MAAmC,KAAfC,SAAe,KAJtDN,OAAoC,OAIkB,KAHtDF,MAAO,EAG+C,KAFtDI,eAAiB,GCHLK,EAAQ,CACpB,EAAE,GAAI,GACN,EAAE,EAAG,GACL,EAAE,EAAG,GACL,CAAC,GAAI,GACL,CAAC,EAAG,GACJ,CAAC,GAAI,GACL,CAAC,EAAG,GACJ,CAAC,EAAG,ICLQC,EAAb,WAMC,WAAYC,EAAcC,GAAgB,yBAL1CC,MAAkB,GAKuB,KAHlCC,eAAiB,EAGiB,KAFlCC,UAAY,EAGlB,IAAK,IAAIC,EAAI,EAAGA,EAAIL,EAAMK,IAAK,CAC9BC,KAAKJ,MAAMG,GAAK,GAChB,IAAK,IAAIE,EAAI,EAAGA,EAAIP,EAAMO,IACzBD,KAAKJ,MAAMG,GAAGE,GAAK,IAAIZ,EAAKU,EAAGE,GAKjC,IAAK,IAAIC,EAAI,EAAGA,EAAIP,EAAOO,IAC1BF,KAAKG,gBAAgBpB,MAAO,EAI7B,IAAK,IAAIgB,EAAI,EAAGA,EAAIL,EAAMK,IACzB,IAAK,IAAIE,EAAI,EAAGA,EAAIP,EAAMO,IAAK,CAC9B,IAAIG,EAAgB,EADU,uBAE9B,YAAiBZ,EAAjB,+CAAwB,CAAC,IAAhBa,EAAe,QAEtBL,KAAKJ,MAAMG,EAAEM,EAAK,KACfL,KAAKJ,MAAMG,EAAEM,EAAK,IAAIJ,EAAEI,EAAK,KAC7BL,KAAKJ,MAAMG,EAAEM,EAAK,IAAIJ,EAAEI,EAAK,IAAItB,MAEpCqB,KAR4B,kFAW9BJ,KAAKJ,MAAMG,GAAGE,GAAGd,eAAiBiB,EAE9BJ,KAAKJ,MAAMG,GAAGE,GAAGlB,MACpBiB,KAAKF,YAKRE,KAAKH,eAAkBH,EAAOA,EAAQM,KAAKF,UAxC7C,4DA4CE,IAAMC,EAAIO,KAAKC,MAAMD,KAAKE,SAAWR,KAAKJ,MAAMa,QAC1CR,EAAIK,KAAKC,MAAMD,KAAKE,SAAWR,KAAKJ,MAAMG,GAAGU,QACnD,OAAOT,KAAKJ,MAAMG,GAAGE,OA9CvB,K,mjBCwGeS,MApGf,WAAgB,IAAD,EACEC,oBAAS,GAAjBC,EADM,sBAEsBD,mBAAS,IAAIlB,EAAM,GAAI,KAF7C,mBAEPoB,EAFO,KAEKC,EAFL,KAGRjB,EAAmBgB,EAAnBhB,eAsBAkB,EAAY,SAAZA,EAAahB,EAAGE,GACrB,IAAMe,EAAmBH,EACVI,EAAiBD,EAAxBpB,MACFsB,EAAOD,EAAalB,GAAGE,GAE7B,GAAoB,SAAhBiB,EAAKjC,OACR,OAAO,KACD,GAAIiC,EAAKnC,KAEf,OAzBmB,WACpB,IAAMkC,EAAeJ,EAAWjB,MADN,uBAE1B,YAAkBqB,EAAlB,+CAAgC,CAAC,IAAtB3B,EAAqB,+BAC/B,YAAmBA,EAAnB,+CAAwB,CAAC,IAAd4B,EAAa,QACH,SAAhBA,EAAKjC,SACRiC,EAAKjC,OAAS,UAHe,oFAFN,kFAU1B6B,EAAc,EAAD,GACTD,EADS,CAEZjB,MAAOqB,KAYPE,GACO,WAMP,GAJAtB,GAAkB,EAClBoB,EAAalB,GAAGE,GAAGhB,OAAS,QAGA,IAAxBiC,EAAK/B,eAAsB,CAAC,IAAD,uBAC9B,YAAiBK,EAAjB,+CAAwB,CAAC,IAAhBa,EAAe,QAEtBY,EAAaC,EAAK5B,IAAIe,EAAK,KAC3BY,EAAaC,EAAK5B,IAAIe,EAAK,IAAIa,EAAK3B,OAAOc,EAAK,KAEhDU,EAAWG,EAAK5B,IAAMe,EAAK,GAAMa,EAAK3B,OAASc,EAAK,KANxB,mFAiB/B,OANAS,EAAc,EAAD,GACTE,EADS,CAEZnB,iBACAD,MAAOqB,KAGe,IAAnBpB,EACI,MAGD,MAIFuB,EAAa,SAACrB,EAAGE,GACvB,IAAMoB,EAAaN,EAAUhB,EAAGE,GAEb,aAAfoB,GACHC,MAAM,gBAGY,QAAfD,GACHC,MAAM,eAIP,OACA,yBAAK9C,UAAU,WACboC,GAAQ,wBAAIW,MAAO,CAAEC,UAAW,IAAxB,eACT,yBAAKhD,UAAU,aACbqC,EAAWjB,MAAM6B,IAAI,SAACC,EAAM3B,GAAP,OACpB,yBAAKvB,UAAU,MAAMmD,IAAKC,IAAGC,YAC3BH,EAAKD,IAAI,SAACnD,EAAM2B,GAAP,OACT,kBAAC,EAAD,CACC0B,IAAKC,IAAGC,WACRzD,UAAW2B,EACX1B,YAAa4B,EACb3B,KAAMA,EACNH,aAAciD,SAKlB,4BAAQlC,QAAS,WAxFpB4B,EAAc,IAAIrB,EAAM,GAAI,OAwFzB,cChGLqC,IAASC,OAAO,kBAAC,EAAD,MAASC,SAASC,eAAe,U,kBCLjDC,EAAOC,QAAU,IAA0B,6C","file":"static/js/main.5bbd3dca.chunk.js","sourcesContent":["import React from \"react\";\n\nimport bomb from \"../assets/bomb-explosion.svg\";\n\nconst Item = ({\n\tonTouchField,\n\tindexLine,\n\tindexColumn,\n\titem,\n}) => {\n  const bombImg = <img className=\"img\" src={bomb} height=\"30px\" width=\"30px\" alt='bomb' />;\n\tconst isBomb = item.mine;\n\tconst isClear = item.status === 'clear';\n\n  return (\n    <div\n\t\t\tclassName={`item ${isClear ? 'item-clear' : 'item-hidden'}`}\n      onClick={() => onTouchField(indexLine, indexColumn)}\n    >\n\n\t\t\t{isClear && (\n\t\t\t\t<>\n\t\t\t\t\t{item.mine ? (\n\t\t\t\t\t\tbombImg\n\t\t\t\t\t) : (\n\t\t\t\t\t\titem.proximityMines === 0 ? '' : item.proximityMines\n\t\t\t\t\t)}\n\t\t\t\t</>\n\t\t\t)}\n      {item.active === 1 && (isBomb ? bombImg : item.bomb)}\n    </div>\n  );\n}\n\nexport default Item;","export class Cell {\n\tstatus: 'open' | 'clear' | 'flag' = 'open';\n\tmine = false;\n\tproximityMines = 0;\n\n\tconstructor(public row: number, public column: number){}\n}","export const PEERS = [\n\t[-1, -1],\n\t[-1, 0],\n\t[-1, 1],\n\t[0, -1],\n\t[0, 1],\n\t[1, -1],\n\t[1, 0],\n\t[1, 1],\n];","import { Cell } from \"./Cell\";\nimport { PEERS } from \"../util/cosntants\";\n\nexport class Board {\n\tcells: Cell[][] = [];\n\n\tpublic remainingCells = 0;\n\tpublic mineCount = 0;\n\n\tconstructor(size: number, mines: number) {\n\t\tfor (let y = 0; y < size; y++) {\n\t\t\tthis.cells[y] = [];\n\t\t\tfor (let x = 0; x < size; x++) {\n\t\t\t\tthis.cells[y][x] = new Cell(y, x);\n\t\t\t}\n\t\t}\n\n\t\t// Assign mines\n\t\tfor (let i = 0; i < mines; i++) {\n\t\t\tthis.getRandomCell().mine = true\n\t\t}\n\n\t\t// Count mines\n\t\tfor (let y = 0; y < size; y++) {\n\t\t\tfor (let x = 0; x < size; x++) {\n\t\t\t\tlet adjacentMines = 0;\n\t\t\t\tfor (let peer of PEERS) {\n\t\t\t\t\tif (\n\t\t\t\t\t\tthis.cells[y+peer[0]]\n\t\t\t\t\t\t&& this.cells[y+peer[0]][x+peer[1]]\n\t\t\t\t\t\t&& this.cells[y+peer[0]][x+peer[1]].mine\n\t\t\t\t\t) {\n\t\t\t\t\t\tadjacentMines++;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tthis.cells[y][x].proximityMines = adjacentMines;\n\n\t\t\t\tif (this.cells[y][x].mine) {\n\t\t\t\t\tthis.mineCount++;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\t\n\t\tthis.remainingCells = (size * size) - this.mineCount\n\t}\n\n\tgetRandomCell(): Cell {\n\t\tconst y = Math.floor(Math.random() * this.cells.length);\n\t\tconst x = Math.floor(Math.random() * this.cells[y].length);\n\t\treturn this.cells[y][x];\n\t}\n}","import React, { useState } from \"react\";\nimport id from \"shortid\";\n\nimport Item from \"./components/Item\";\nimport { Board } from \"./models/Board\";\nimport { PEERS } from \"./util/cosntants\";\n\nfunction App() {\n  const [blow] = useState(false);\n\tconst [boardField, setBoardField] = useState(new Board(10, 10));\n\tlet { remainingCells } = boardField;\n\n\tconst restart = () => {\n\t\tsetBoardField(new Board(10, 15));\n\t}\n\n\tconst showAllBombs = () => {\n\t\tconst handlerCells = boardField.cells;\n\t\tfor (const row of handlerCells) {\n\t\t\tfor (const cell of row) {\n\t\t\t\tif (cell.status === 'open') {\n\t\t\t\t\tcell.status = 'clear';\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tsetBoardField({\n\t\t\t...boardField,\n\t\t\tcells: handlerCells\n\t\t});\n\t}\n\n\tconst checkCell = (y, x) => {\n\t\tconst handleBoardField = boardField;\n\t\tconst { cells: handlerCells } = handleBoardField;\n\t\tconst cell = handlerCells[y][x];\n\t\t\n\t\tif (cell.status !== 'open'){\n\t\t\treturn null;\n\t\t} else if (cell.mine) {\n\t\t\tshowAllBombs();\n\t\t\treturn 'gameover'\n\t\t} else {\n\t\t\tremainingCells -= 1;\n\t\t\thandlerCells[y][x].status = 'clear'\n\n\t\t\t// Empty cell, let's clear the whole block.\n\t\t\tif (cell.proximityMines === 0) {\n\t\t\t\tfor (let peer of PEERS) {\n\t\t\t\t\tif (\n\t\t\t\t\t\thandlerCells[cell.row+peer[0]] &&\n\t\t\t\t\t\thandlerCells[cell.row+peer[0]][cell.column+peer[1]]\n\t\t\t\t\t) {\n\t\t\t\t\t\tcheckCell((cell.row + peer[0]), (cell.column + peer[1]));\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tsetBoardField({\n\t\t\t\t...handleBoardField,\n\t\t\t\tremainingCells,\n\t\t\t\tcells: handlerCells\n\t\t\t});\n\n\t\t\tif (remainingCells === 0) {\n\t\t\t\treturn 'win';\n\t\t\t}\n\n\t\t\treturn null;\n\t\t}\n\t}\n\n  const touchField = (y, x) => {\n\t\tconst checkValue = checkCell(y, x); \n\t\t\n\t\tif (checkValue === 'gameover') {\n\t\t\talert('Game Over =(')\n\t\t};\n\n\t\tif (checkValue === 'win') {\n\t\t\talert('You Win =)')\n\t\t};\n\t}\n\n  return (\n\t\t<div className=\"wrapper\">\n\t\t\t{blow && <h3 style={{ marginTop: 0 }} >Fim do Jogo</h3>}\n\t\t\t<div className=\"container\">\n\t\t\t\t{boardField.cells.map((line, y) =>  (\n\t\t\t\t\t\t<div className=\"row\" key={id.generate()}>\n\t\t\t\t\t\t\t{line.map((item, x) => (\n\t\t\t\t\t\t\t\t<Item\n\t\t\t\t\t\t\t\t\tkey={id.generate()}\n\t\t\t\t\t\t\t\t\tindexLine={y}\n\t\t\t\t\t\t\t\t\tindexColumn={x}\n\t\t\t\t\t\t\t\t\titem={item}\n\t\t\t\t\t\t\t\t\tonTouchField={touchField}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t))}\n\t\t\t\t\t\t</div>\n\t\t\t\t\t))}\n\t\t\t\t\t<button onClick={() => restart()} >restart</button>\n\t\t\t</div>\n\t\t</div>\n  );\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.modules.css';\nimport App from './App';\n\nReactDOM.render(<App />, document.getElementById('root'));","module.exports = __webpack_public_path__ + \"static/media/bomb-explosion.a4ec3fa6.svg\";"],"sourceRoot":""}