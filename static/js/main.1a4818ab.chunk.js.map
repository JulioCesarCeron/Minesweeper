{"version":3,"sources":["assets/bomb-explosion.svg","assets/flag.svg","components/Item/Item.js","models/Cell.ts","util/cosntants.js","models/Board.ts","components/Minesweeper/Minesweeper.js","App.js","index.js"],"names":["module","exports","Item","onTouchField","indexLine","indexColumn","item","bombImg","className","src","bombIcon","height","width","alt","flagImg","flagIcon","isBomb","mine","isClear","status","isFlag","classesNames","onMouseDown","e","proximityMines","Cell","row","column","PEERS","Board","size","mines","cells","remainingCells","mineCount","y","this","x","i","getRandomCell","adjacentMines","peer","Math","floor","random","length","Minesweeper","useState","blow","setBlow","boardField","setBoardField","checkCell","cell","handlerCells","showAllBombs","touchField","button","checkValue","alert","setFlag","map","line","key","onClick","App","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.1a4818ab.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/bomb-explosion.a4ec3fa6.svg\";","module.exports = __webpack_public_path__ + \"static/media/flag.dec3e614.svg\";","import React from \"react\";\nimport classesNames from 'classnames';\n\nimport bombIcon from \"../../assets/bomb-explosion.svg\";\nimport flagIcon from \"../../assets/flag.svg\";\nimport './item.modules.css'; \n\n\nconst Item = ({\n\tonTouchField,\n\tindexLine,\n\tindexColumn,\n\titem,\n}) => {\n\tconst bombImg = <img className=\"img\" src={bombIcon} height=\"35px\" width=\"35px\" alt='bomb' />;\n\tconst flagImg = <img className=\"img\" src={flagIcon} height=\"35px\" width=\"35px\" alt='bomb' />;\n\tconst isBomb = item.mine;\n\tconst isClear = item.status === 'clear';\n\tconst isFlag = item.status === 'flag';\n\n  return (\n    <div\n\t\t\tclassName={classesNames('item', {\n\t\t\t\t'item-clear': isClear,\n\t\t\t\t'item-hidden': !isClear,\n\t\t\t\t'item-bomb': (isClear && isBomb)\n\t\t\t})}\n\t\t\tonMouseDown={(e) => onTouchField(indexLine, indexColumn, e)}\n    >\n\n\t\t\t{isClear && (\n\t\t\t\t<>\n\t\t\t\t\t{item.mine ? (\n\t\t\t\t\t\tbombImg\n\t\t\t\t\t) : (\n\t\t\t\t\t\titem.proximityMines === 0 ? '' : item.proximityMines\n\t\t\t\t\t)}\n\t\t\t\t</>\n\t\t\t)}\n\t\t\t{isFlag && flagImg}\n    </div>\n  );\n}\n\nexport default Item;","export class Cell {\n\tstatus: 'open' | 'clear' | 'flag' = 'open';\n\tmine = false;\n\tproximityMines = 0;\n\n\tconstructor(public row: number, public column: number){}\n}","export const PEERS = [\n\t[-1, -1],\n\t[-1, 0],\n\t[-1, 1],\n\t[0, -1],\n\t[0, 1],\n\t[1, -1],\n\t[1, 0],\n\t[1, 1],\n];","import { Cell } from \"./Cell\";\nimport { PEERS } from \"../util/cosntants\";\n\nexport class Board {\n\tcells: Cell[][] = [];\n\n\tpublic remainingCells = 0;\n\tpublic mineCount = 0;\n\n\tconstructor(size: number, mines: number) {\n\t\tfor (let y = 0; y < size; y++) {\n\t\t\tthis.cells[y] = [];\n\t\t\tfor (let x = 0; x < size; x++) {\n\t\t\t\tthis.cells[y][x] = new Cell(y, x);\n\t\t\t}\n\t\t}\n\n\t\t// Assign mines\n\t\tfor (let i = 0; i < mines; i++) {\n\t\t\tthis.getRandomCell().mine = true\n\t\t}\n\n\t\t// Count mines\n\t\tfor (let y = 0; y < size; y++) {\n\t\t\tfor (let x = 0; x < size; x++) {\n\t\t\t\tlet adjacentMines = 0;\n\t\t\t\tfor (let peer of PEERS) {\n\t\t\t\t\tif (\n\t\t\t\t\t\tthis.cells[y+peer[0]]\n\t\t\t\t\t\t&& this.cells[y+peer[0]][x+peer[1]]\n\t\t\t\t\t\t&& this.cells[y+peer[0]][x+peer[1]].mine\n\t\t\t\t\t) {\n\t\t\t\t\t\tadjacentMines++;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tthis.cells[y][x].proximityMines = adjacentMines;\n\n\t\t\t\tif (this.cells[y][x].mine) {\n\t\t\t\t\tthis.mineCount++;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\t\n\t\tthis.remainingCells = (size * size) - this.mineCount\n\t}\n\n\tgetRandomCell(): Cell {\n\t\tconst y = Math.floor(Math.random() * this.cells.length);\n\t\tconst x = Math.floor(Math.random() * this.cells[y].length);\n\t\treturn this.cells[y][x];\n\t}\n}","import React, { useState } from 'react';\n\nimport './Minesweeper.modules.css';\nimport Item from '../Item/Item';\nimport { Board } from '../../models/Board';\nimport { PEERS } from '../../util/cosntants';\n\n\nconst Minesweeper = () => {\n\tconst [blow, setBlow] = useState(false);\n\tconst [boardField, setBoardField] = useState(new Board(10, 10));\n\tlet { remainingCells } = boardField;\n\n\tconst restart = () => {\n\t\tsetBoardField(new Board(10, 15));\n\t\tsetBlow(false);\n\t}\n\n\tconst showAllBombs = () => {\n\t\tconst handlerCells = boardField.cells;\n\t\tfor (const row of handlerCells) {\n\t\t\tfor (const cell of row) {\n\t\t\t\tif (cell.status === 'open') {\n\t\t\t\t\tcell.status = 'clear';\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tsetBoardField({\n\t\t\t...boardField,\n\t\t\tcells: handlerCells\n\t\t});\n\t}\n\n\tconst checkCell = (y, x) => {\n\t\tconst { cells } = boardField;\n\t\tconst cell = cells[y][x];\n\t\t\n\t\tif (cell.status !== 'open'){\n\t\t\treturn null;\n\t\t} else if (cell.mine) {\n\t\t\tshowAllBombs();\n\t\t\treturn 'gameover'\n\t\t} else {\n\t\t\tremainingCells -= 1;\n\t\t\tcells[y][x].status = 'clear'\n\n\t\t\t// Empty cell, let's clear the whole block.\n\t\t\tif (cell.proximityMines === 0) {\n\t\t\t\tfor (let peer of PEERS) {\n\t\t\t\t\tif (\n\t\t\t\t\t\tcells[cell.row+peer[0]] &&\n\t\t\t\t\t\tcells[cell.row+peer[0]][cell.column+peer[1]]\n\t\t\t\t\t) {\n\t\t\t\t\t\tcheckCell((cell.row + peer[0]), (cell.column + peer[1]));\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tsetBoardField({\n\t\t\t\t...boardField,\n\t\t\t\tremainingCells,\n\t\t\t\tcells\n\t\t\t});\n\n\t\t\tif (remainingCells === 0) {\n\t\t\t\treturn 'win';\n\t\t\t}\n\n\t\t\treturn null;\n\t\t}\n\t}\n\n\tconst setFlag = (y, x) => {\n\t\tconst { cells } = boardField;\n\t\tcells[y][x].status = cells[y][x].status === 'flag' ? 'open' : 'flag';\n\n\t\tsetBoardField({\n\t\t\t...boardField,\n\t\t\tcells\n\t\t});\n\t}\n\n  const touchField = (y, x, e) => {\n\t\tif (e.button === 2) {\n\t\t\tsetFlag(y, x);\n\t\t\treturn;\n\t\t}\n\n\t\tconst checkValue = checkCell(y, x); \n\t\t\n\t\tif (checkValue === 'gameover') {\n\t\t\tsetBlow(true);\n\t\t};\n\n\t\tif (checkValue === 'win') {\n\t\t\talert('You Win =)');\n\t\t\tsetBlow(true);\n\t\t};\n\t}\n\n  return (\n\t\t<div className=\"wrapper\">\n\t\t\t<div className=\"header-content\">\n\t\t\t\t{blow && <h1 className=\"game-over\" >GAME OVER</h1>}\n\t\t\t</div>\n\t\t\t<div className=\"container\">\n\t\t\t\t{boardField.cells.map((line, y) =>  (\n\t\t\t\t\t\t<div className=\"row\" key={`y-${y}`}>\n\t\t\t\t\t\t\t{line.map((item, x) => (\n\t\t\t\t\t\t\t\t<Item\n\t\t\t\t\t\t\t\t\tkey={`y-${y}-x-${x}`}\n\t\t\t\t\t\t\t\t\tindexLine={y}\n\t\t\t\t\t\t\t\t\tindexColumn={x}\n\t\t\t\t\t\t\t\t\titem={item}\n\t\t\t\t\t\t\t\t\tonTouchField={touchField}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t))}\n\t\t\t\t\t\t</div>\n\t\t\t\t\t))}\n\t\t\t</div>\n\t\t\t<div className=\"group-button\">\n\t\t\t\t{blow && <button className=\"btn btn-3\" onClick={() => restart()} >RETRY</button>}\n\t\t\t</div>\n\t\t</div>\n  );\n};\n\nexport default Minesweeper;","import React from \"react\";\nimport Minesweeper from \"./components/Minesweeper/Minesweeper\";\n\nconst App = () => <Minesweeper />;\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.modules.css';\nimport App from './App';\n\nReactDOM.render(<App />, document.getElementById('root'));"],"sourceRoot":""}